<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SIMBA - Sistem Inventaris & Manajemen Barang Aset | STIK Sint Carolus</title>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@300;400;500;600;700;800&family=Sora:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.31/jspdf.plugin.autotable.min.js"></script>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Login Page -->
    <div class="login-page" id="loginPage">
        <div class="login-container">
            <div class="login-header">
                <div class="login-logo">SC</div>
                <h1>SIMBA</h1>
                <p>Sistem Inventaris & Manajemen Barang Aset</p>
                <span class="login-subtitle">STIK Sint Carolus</span>
            </div>
            <div class="login-form">
                <div class="form-group">
                    <label class="form-label">Username</label>
                    <div class="input-with-icon">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path><circle cx="12" cy="7" r="4"></circle></svg>
                        <input type="text" class="form-input" id="loginUsername" placeholder="Masukkan username">
                    </div>
                </div>
                <div class="form-group">
                    <label class="form-label">Password</label>
                    <div class="input-with-icon">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect><path d="M7 11V7a5 5 0 0110 0v4"></path></svg>
                        <input type="password" class="form-input" id="loginPassword" placeholder="Masukkan password">
                    </div>
                </div>
                <div class="login-error" id="loginError"></div>
                <button type="button" class="btn btn-primary btn-login" onclick="login()">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4"></path><polyline points="10 17 15 12 10 7"></polyline><line x1="15" y1="12" x2="3" y2="12"></line></svg>
                    Masuk
                </button>
            </div>
            <div class="login-footer">
                <p>&copy; 2025 STIK Sint Carolus. All rights reserved.</p>
            </div>
        </div>
    </div>

    <!-- App Container -->
    <div class="app-container" id="appContainer" style="display: none;">
    <!-- Sidebar -->
    <nav class="sidebar" id="sidebar">
        <div class="sidebar-header">
            <div class="logo-icon">SC</div>
            <div class="logo-text">
                <h1>SIMBA</h1>
                <span>STIK Sint Carolus</span>
            </div>
        </div>
        
        <div class="nav-section">
            <div class="nav-label">Menu Utama</div>
            <div class="nav-item active" data-page="dashboard">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="3" width="7" height="7" rx="1"></rect><rect x="14" y="3" width="7" height="7" rx="1"></rect><rect x="14" y="14" width="7" height="7" rx="1"></rect><rect x="3" y="14" width="7" height="7" rx="1"></rect></svg>
                Dashboard
            </div>
            <div class="nav-item" data-page="inventaris">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"></path></svg>
                Inventaris Barang
                <span class="nav-badge" id="inventarisCount">0</span>
            </div>
            <div class="nav-item" data-page="aset">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M9 7h6m-6 4h6m-6 4h4M5 3h14a2 2 0 012 2v14a2 2 0 01-2 2H5a2 2 0 01-2-2V5a2 2 0 012-2z"></path></svg>
                Manajemen Aset
            </div>
            <div class="nav-item" data-page="kategori">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M4 6h16M4 12h16M4 18h7"></path></svg>
                Kategori
            </div>
            <div class="nav-item" data-page="lokasi">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0118 0z"></path><circle cx="12" cy="10" r="3"></circle></svg>
                Lokasi
            </div>
        </div>

        <div class="nav-section">
            <div class="nav-label">Laporan</div>
            <div class="nav-item" data-page="laporan">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M9 17v-2m3 2v-4m3 4v-6m2 10H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path></svg>
                Laporan & Export
            </div>
            <div class="nav-item" data-page="depresiasi">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M3 3v18h18"></path><path d="M18.7 8l-5.1 5.2-2.8-2.7L7 14.3"></path></svg>
                Depresiasi Aset
            </div>
            <div class="nav-item" data-page="riwayat">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"></circle><polyline points="12,6 12,12 16,14"></polyline></svg>
                Riwayat Pergerakan
            </div>
        </div>

        <div class="nav-section">
            <div class="nav-label">Pemindaian</div>
            <div class="nav-item" data-page="scanner">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M3 7V5a2 2 0 012-2h2M17 3h2a2 2 0 012 2v2M21 17v2a2 2 0 01-2 2h-2M7 21H5a2 2 0 01-2-2v-2"></path><rect x="7" y="7" width="10" height="10" rx="1"></rect></svg>
                Scan QR/Barcode
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="main-content">
        <!-- Header -->
        <header class="header">
            <div class="header-left">
                <button class="menu-toggle" id="menuToggle">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line></svg>
                </button>
                <div class="breadcrumb">
                    <a href="#">SIMBA</a>
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="9 18 15 12 9 6"></polyline></svg>
                    <span id="currentPage">Dashboard</span>
                </div>
            </div>
            <div class="search-box">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="11" cy="11" r="8"></circle><path d="M21 21l-4.35-4.35"></path></svg>
                <input type="text" placeholder="Cari barang, aset, atau lokasi..." id="globalSearch">
            </div>
            <div class="header-right">
                <button class="header-btn" id="notificationBtn">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M18 8A6 6 0 006 8c0 7-3 9-3 9h18s-3-2-3-9"></path><path d="M13.73 21a2 2 0 01-3.46 0"></path></svg>
                    <span class="notification-dot"></span>
                </button>
                <div class="user-profile" onclick="toggleUserMenu()">
                    <div class="user-avatar" id="userAvatar">AD</div>
                    <div class="user-info">
                        <div class="user-name" id="currentUserName">Admin STIK</div>
                        <div class="user-role" id="currentUserRole">Administrator</div>
                    </div>
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="6 9 12 15 18 9"></polyline></svg>
                </div>
                <div class="user-dropdown" id="userDropdown">
                    <div class="dropdown-item" onclick="logout()">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path><polyline points="16 17 21 12 16 7"></polyline><line x1="21" y1="12" x2="9" y2="12"></line></svg>
                        Keluar
                    </div>
                </div>
            </div>
        </header>

        <!-- Page Content Container -->
        <div class="page-content">
            <!-- Dashboard Page -->
            <section class="page-section active" id="dashboardPage">
                <div class="page-header">
                    <div>
                        <h1 class="page-title">Dashboard</h1>
                        <p class="page-subtitle">Ringkasan data inventaris dan aset STIK Sint Carolus</p>
                    </div>
                    <div class="header-actions">
                        <button class="btn btn-secondary" onclick="exportReport('pdf')">
                            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M14 2H6a2 2 0 00-2 2v16a2 2 0 002 2h12a2 2 0 002-2V8z"></path><polyline points="14 2 14 8 20 8"></polyline><line x1="12" y1="18" x2="12" y2="12"></line><line x1="9" y1="15" x2="15" y2="15"></line></svg>
                            Export Laporan
                        </button>
                    </div>
                </div>

                <div class="stats-grid">
                    <div class="stat-card blue">
                        <div class="stat-header">
                            <div class="stat-icon blue"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"></path></svg></div>
                            <div class="stat-trend up"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="23 6 13.5 15.5 8.5 10.5 1 18"></polyline><polyline points="17 6 23 6 23 12"></polyline></svg>+12%</div>
                        </div>
                        <div class="stat-value" id="totalBarang">0</div>
                        <div class="stat-label">Total Barang</div>
                    </div>
                    <div class="stat-card green">
                        <div class="stat-header">
                            <div class="stat-icon green"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M22 11.08V12a10 10 0 11-5.93-9.14"></path><polyline points="22 4 12 14.01 9 11.01"></polyline></svg></div>
                        </div>
                        <div class="stat-value" id="barangBagus">0</div>
                        <div class="stat-label">Kondisi Bagus</div>
                    </div>
                    <div class="stat-card yellow">
                        <div class="stat-header">
                            <div class="stat-icon yellow"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M10.29 3.86L1.82 18a2 2 0 001.71 3h16.94a2 2 0 001.71-3L13.71 3.86a2 2 0 00-3.42 0z"></path><line x1="12" y1="9" x2="12" y2="13"></line><line x1="12" y1="17" x2="12.01" y2="17"></line></svg></div>
                        </div>
                        <div class="stat-value" id="barangPerbaikan">0</div>
                        <div class="stat-label">Dalam Perbaikan</div>
                    </div>
                    <div class="stat-card red">
                        <div class="stat-header">
                            <div class="stat-icon red"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"></circle><line x1="15" y1="9" x2="9" y2="15"></line><line x1="9" y1="9" x2="15" y2="15"></line></svg></div>
                        </div>
                        <div class="stat-value" id="barangRusak">0</div>
                        <div class="stat-label">Barang Rusak</div>
                    </div>
                </div>

                <div class="asset-summary">
                    <div class="asset-card">
                        <div class="asset-card-header"><div class="asset-card-icon"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="12" y1="1" x2="12" y2="23"></line><path d="M17 5H9.5a3.5 3.5 0 000 7h5a3.5 3.5 0 010 7H6"></path></svg></div></div>
                        <div class="asset-card-title">Total Nilai Aset</div>
                        <div class="asset-card-value currency" id="totalNilaiAset">0</div>
                    </div>
                    <div class="asset-card">
                        <div class="asset-card-header"><div class="asset-card-icon"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M3 3v18h18"></path><path d="M18.7 8l-5.1 5.2-2.8-2.7L7 14.3"></path></svg></div></div>
                        <div class="asset-card-title">Total Depresiasi</div>
                        <div class="asset-card-value currency" id="totalDepresiasi">0</div>
                    </div>
                    <div class="asset-card">
                        <div class="asset-card-header"><div class="asset-card-icon"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="2" y="7" width="20" height="14" rx="2" ry="2"></rect><path d="M16 21V5a2 2 0 00-2-2h-4a2 2 0 00-2 2v16"></path></svg></div></div>
                        <div class="asset-card-title">Nilai Buku</div>
                        <div class="asset-card-value currency" id="nilaiBuku">0</div>
                    </div>
                </div>

                <div class="table-container">
                    <div class="table-header">
                        <div class="table-title">Barang Terbaru <span class="table-count" id="recentCount">0 item</span></div>
                        <button class="btn btn-primary" onclick="showPage('inventaris')">Lihat Semua</button>
                    </div>
                    <table>
                        <thead><tr><th>Barang</th><th>Kode</th><th>Kategori</th><th>Lokasi</th><th>Status</th><th>Kepemilikan</th></tr></thead>
                        <tbody id="recentItemsTable"></tbody>
                    </table>
                </div>
            </section>

            <!-- Inventaris Page -->
            <section class="page-section" id="inventarisPage">
                <div class="page-header">
                    <div>
                        <h1 class="page-title">Inventaris Barang</h1>
                        <p class="page-subtitle">Kelola semua data barang inventaris institusi</p>
                    </div>
                    <div class="header-actions">
                        <button class="btn btn-secondary" onclick="exportToExcel()">
                            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 15v4a2 2 0 01-2 2H5a2 2 0 01-2-2v-4"></path><polyline points="7 10 12 15 17 10"></polyline><line x1="12" y1="15" x2="12" y2="3"></line></svg>
                            Export Excel
                        </button>
                        <button class="btn btn-primary" onclick="openModal('addItemModal')">
                            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="12" y1="5" x2="12" y2="19"></line><line x1="5" y1="12" x2="19" y2="12"></line></svg>
                            Tambah Barang
                        </button>
                    </div>
                </div>

                <div class="table-container">
                    <div class="table-header">
                        <div class="table-title">Daftar Barang <span class="table-count" id="itemCount">0 item</span></div>
                        <div class="table-actions">
                            <select class="filter-btn" id="filterKategori" onchange="filterItems()"><option value="">Semua Kategori</option></select>
                            <select class="filter-btn" id="filterStatus" onchange="filterItems()">
                                <option value="">Semua Status</option>
                                <option value="Bagus">Bagus</option>
                                <option value="Rusak">Rusak</option>
                                <option value="Proses Perbaikan">Proses Perbaikan</option>
                                <option value="Habis">Habis</option>
                            </select>
                            <select class="filter-btn" id="filterLokasi" onchange="filterItems()"><option value="">Semua Lokasi</option></select>
                        </div>
                    </div>
                    <table>
                        <thead><tr><th>Barang</th><th>Kode</th><th>Kategori</th><th>Lokasi</th><th>Status</th><th>Kepemilikan</th><th>Aksi</th></tr></thead>
                        <tbody id="itemsTable"></tbody>
                    </table>
                    <div class="pagination">
                        <div class="pagination-info">Menampilkan <strong>1-10</strong> dari <strong id="totalItems">0</strong> barang</div>
                        <div class="pagination-btns">
                            <button class="page-btn" disabled><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="15 18 9 12 15 6"></polyline></svg></button>
                            <button class="page-btn active">1</button>
                            <button class="page-btn"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="9 18 15 12 9 6"></polyline></svg></button>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Aset Page -->
            <section class="page-section" id="asetPage">
                <div class="page-header">
                    <div>
                        <h1 class="page-title">Manajemen Aset</h1>
                        <p class="page-subtitle">Pengelolaan aset tetap dan non-tetap institusi</p>
                    </div>
                    <div class="header-actions">
                        <button class="btn btn-secondary" onclick="exportAssetReport()">
                            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M14 2H6a2 2 0 00-2 2v16a2 2 0 002 2h12a2 2 0 002-2V8z"></path><polyline points="14 2 14 8 20 8"></polyline></svg>
                            Export Laporan
                        </button>
                        <button class="btn btn-primary" onclick="openModal('addAssetModal')">
                            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="12" y1="5" x2="12" y2="19"></line><line x1="5" y1="12" x2="19" y2="12"></line></svg>
                            Tambah Aset
                        </button>
                    </div>
                </div>

                <div class="stats-grid">
                    <div class="stat-card blue"><div class="stat-header"><div class="stat-icon blue"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="2" y="7" width="20" height="14" rx="2" ry="2"></rect><path d="M16 21V5a2 2 0 00-2-2h-4a2 2 0 00-2 2v16"></path></svg></div></div><div class="stat-value" id="totalAset">0</div><div class="stat-label">Total Aset</div></div>
                    <div class="stat-card green"><div class="stat-header"><div class="stat-icon green"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M19 21l-7-5-7 5V5a2 2 0 012-2h10a2 2 0 012 2z"></path></svg></div></div><div class="stat-value" id="asetTetap">0</div><div class="stat-label">Aset Tetap</div></div>
                    <div class="stat-card yellow"><div class="stat-header"><div class="stat-icon yellow"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"></circle><path d="M16 8l-4 4-4-4"></path><path d="M12 16V12"></path></svg></div></div><div class="stat-value" id="asetNonTetap">0</div><div class="stat-label">Aset Non-Tetap</div></div>
                    <div class="stat-card red"><div class="stat-header"><div class="stat-icon red"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M3 3v18h18"></path><path d="M18.7 8l-5.1 5.2-2.8-2.7L7 14.3"></path></svg></div></div><div class="stat-value" id="depresiasiTahunan">0</div><div class="stat-label">Depresiasi/Tahun</div></div>
                </div>

                <div class="tabs">
                    <button class="tab active" data-tab="asetTetapTab">Aset Tetap</button>
                    <button class="tab" data-tab="asetNonTetapTab">Aset Non-Tetap</button>
                    <button class="tab" data-tab="perawatanTab">Histori Perawatan</button>
                </div>

                <div class="table-container" id="asetTetapTab">
                    <div class="table-header"><div class="table-title">Daftar Aset Tetap <span class="table-count" id="asetTetapCount">0 item</span></div></div>
                    <table>
                        <thead><tr><th>Aset</th><th>Kode</th><th>Nilai Perolehan</th><th>Umur Ekonomis</th><th>Depresiasi</th><th>Nilai Buku</th><th>Aksi</th></tr></thead>
                        <tbody id="asetTetapTable"></tbody>
                    </table>
                </div>

                <div class="table-container" id="asetNonTetapTab" style="display:none;">
                    <div class="table-header"><div class="table-title">Daftar Aset Non-Tetap <span class="table-count" id="asetNonTetapCount">0 item</span></div></div>
                    <table>
                        <thead><tr><th>Aset</th><th>Kode</th><th>Nilai Perolehan</th><th>Tanggal Pembelian</th><th>Lokasi</th><th>Aksi</th></tr></thead>
                        <tbody id="asetNonTetapTable"></tbody>
                    </table>
                </div>

                <div class="table-container" id="perawatanTab" style="display:none;">
                    <div class="table-header"><div class="table-title">Histori Perawatan Aset <span class="table-count" id="perawatanCount">0 item</span></div></div>
                    <table>
                        <thead><tr><th>Aset</th><th>Tanggal</th><th>Jenis Perawatan</th><th>Biaya</th><th>Keterangan</th></tr></thead>
                        <tbody id="perawatanTable"></tbody>
                    </table>
                </div>
            </section>

            <!-- Kategori Page -->
            <section class="page-section" id="kategoriPage">
                <div class="page-header">
                    <div><h1 class="page-title">Kategori Barang</h1><p class="page-subtitle">Kelola kategori dan sub-kategori barang</p></div>
                    <button class="btn btn-primary" onclick="openModal('addKategoriModal')">
                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="12" y1="5" x2="12" y2="19"></line><line x1="5" y1="12" x2="19" y2="12"></line></svg>
                        Tambah Kategori
                    </button>
                </div>
                <div class="table-container">
                    <div class="table-header"><div class="table-title">Daftar Kategori <span class="table-count" id="kategoriCount">0 kategori</span></div></div>
                    <table>
                        <thead><tr><th>Nama Kategori</th><th>Sub-Kategori</th><th>Jumlah Barang</th><th>Aksi</th></tr></thead>
                        <tbody id="kategoriTable"></tbody>
                    </table>
                </div>
            </section>

            <!-- Lokasi Page -->
            <section class="page-section" id="lokasiPage">
                <div class="page-header">
                    <div><h1 class="page-title">Lokasi Barang</h1><p class="page-subtitle">Kelola lokasi penyimpanan barang</p></div>
                    <button class="btn btn-primary" onclick="openModal('addLokasiModal')">
                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="12" y1="5" x2="12" y2="19"></line><line x1="5" y1="12" x2="19" y2="12"></line></svg>
                        Tambah Lokasi
                    </button>
                </div>
                <div class="table-container">
                    <div class="table-header"><div class="table-title">Daftar Lokasi <span class="table-count" id="lokasiCount">0 lokasi</span></div></div>
                    <table>
                        <thead><tr><th>Nama Lokasi</th><th>Gedung</th><th>Lantai</th><th>Jumlah Barang</th><th>Aksi</th></tr></thead>
                        <tbody id="lokasiTable"></tbody>
                    </table>
                </div>
            </section>

            <!-- Laporan Page -->
            <section class="page-section" id="laporanPage">
                <div class="page-header"><div><h1 class="page-title">Laporan & Export</h1><p class="page-subtitle">Generate dan export laporan inventaris dan aset</p></div></div>
                <div class="stats-grid">
                    <div class="stat-card blue" onclick="exportToExcel()" style="cursor:pointer;"><div class="stat-header"><div class="stat-icon blue"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M14 2H6a2 2 0 00-2 2v16a2 2 0 002 2h12a2 2 0 002-2V8z"></path><polyline points="14 2 14 8 20 8"></polyline></svg></div></div><div class="stat-label" style="font-size:16px;font-weight:600;">Export Excel</div><div class="stat-label">Inventaris Barang</div></div>
                    <div class="stat-card green" onclick="exportReport('pdf')" style="cursor:pointer;"><div class="stat-header"><div class="stat-icon green"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M14 2H6a2 2 0 00-2 2v16a2 2 0 002 2h12a2 2 0 002-2V8z"></path><polyline points="14 2 14 8 20 8"></polyline></svg></div></div><div class="stat-label" style="font-size:16px;font-weight:600;">Export PDF</div><div class="stat-label">Laporan Inventaris</div></div>
                    <div class="stat-card yellow" onclick="exportAssetReport()" style="cursor:pointer;"><div class="stat-header"><div class="stat-icon yellow"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M9 17v-2m3 2v-4m3 4v-6m2 10H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path></svg></div></div><div class="stat-label" style="font-size:16px;font-weight:600;">Laporan Aset</div><div class="stat-label">PDF dengan Depresiasi</div></div>
                    <div class="stat-card red" onclick="exportDepreciationReport()" style="cursor:pointer;"><div class="stat-header"><div class="stat-icon red"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M3 3v18h18"></path><path d="M18.7 8l-5.1 5.2-2.8-2.7L7 14.3"></path></svg></div></div><div class="stat-label" style="font-size:16px;font-weight:600;">Laporan Depresiasi</div><div class="stat-label">Penyusutan Aset</div></div>
                </div>
            </section>

            <!-- Depresiasi Page -->
            <section class="page-section" id="depresiasiPage">
                <div class="page-header">
                    <div><h1 class="page-title">Depresiasi Aset</h1><p class="page-subtitle">Perhitungan penyusutan aset dengan metode garis lurus</p></div>
                    <button class="btn btn-secondary" onclick="exportDepreciationReport()">
                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M14 2H6a2 2 0 00-2 2v16a2 2 0 002 2h12a2 2 0 002-2V8z"></path><polyline points="14 2 14 8 20 8"></polyline></svg>
                        Export Laporan
                    </button>
                </div>
                <div class="asset-summary">
                    <div class="asset-card"><div class="asset-card-title">Total Nilai Perolehan</div><div class="asset-card-value currency" id="totalPerolehan">0</div></div>
                    <div class="asset-card"><div class="asset-card-title">Akumulasi Depresiasi</div><div class="asset-card-value currency" id="akumulasiDepresiasi">0</div></div>
                    <div class="asset-card"><div class="asset-card-title">Total Nilai Buku</div><div class="asset-card-value currency" id="totalNilaiBuku">0</div></div>
                </div>
                <div class="table-container">
                    <div class="table-header"><div class="table-title">Detail Depresiasi Aset</div></div>
                    <table>
                        <thead><tr><th>Aset</th><th>Nilai Perolehan</th><th>Umur Ekonomis</th><th>Depresiasi/Tahun</th><th>Depresiasi/Bulan</th><th>Akumulasi</th><th>Nilai Buku</th></tr></thead>
                        <tbody id="depresiasiTable"></tbody>
                    </table>
                </div>
            </section>

            <!-- Riwayat Page -->
            <section class="page-section" id="riwayatPage">
                <div class="page-header"><div><h1 class="page-title">Riwayat Pergerakan</h1><p class="page-subtitle">Histori perpindahan dan perubahan status barang</p></div></div>
                <div class="table-container">
                    <div class="table-header"><div class="table-title">Riwayat Aktivitas</div></div>
                    <div style="padding:24px;"><div class="timeline" id="historyTimeline"></div></div>
                </div>
            </section>

            <!-- Scanner Page -->
            <section class="page-section" id="scannerPage">
                <div class="page-header"><div><h1 class="page-title">Scan QR/Barcode</h1><p class="page-subtitle">Pindai QR Code atau Barcode untuk melihat detail barang</p></div></div>
                <div class="table-container" style="text-align:center;padding:60px 40px;">
                    <svg width="100" height="100" viewBox="0 0 24 24" fill="none" stroke="var(--text-light)" stroke-width="1.5" style="margin-bottom:24px;"><path d="M3 7V5a2 2 0 012-2h2M17 3h2a2 2 0 012 2v2M21 17v2a2 2 0 01-2 2h-2M7 21H5a2 2 0 01-2-2v-2"></path><rect x="7" y="7" width="10" height="10" rx="1"></rect></svg>
                    <h3 style="margin-bottom:8px;">Fitur Scan QR Code</h3>
                    <p style="color:var(--text-secondary);margin-bottom:24px;">Gunakan kamera untuk memindai QR Code barang<br>atau masukkan kode barang secara manual</p>
                    <div style="display:flex;gap:12px;justify-content:center;flex-wrap:wrap;">
                        <input type="text" class="form-input" placeholder="Masukkan kode barang..." id="manualCode" style="max-width:300px;">
                        <button class="btn btn-primary" onclick="searchByCode()">
                            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="11" cy="11" r="8"></circle><path d="M21 21l-4.35-4.35"></path></svg>
                            Cari
                        </button>
                    </div>
                </div>
                <div class="table-container" id="scanResult" style="display:none;margin-top:24px;">
                    <div class="table-header"><div class="table-title">Hasil Pencarian</div></div>
                    <div style="padding:24px;" id="scanResultContent"></div>
                </div>
            </section>
        </div>
    </main>

    <!-- Modals will be included from modals.html -->
    <div id="modalsContainer"></div>

    <!-- Toast Container -->
    <div class="toast-container" id="toastContainer"></div>
    </div> <!-- End of appContainer -->

    <script src="app.js"></script>
    <script src="modals.js"></script>
    <script>
        // Toggle user dropdown menu
        function toggleUserMenu() {
            const dropdown = document.getElementById('userDropdown');
            dropdown.classList.toggle('show');
        }
        
        // Close dropdown when clicking outside
        document.addEventListener('click', function(e) {
            const dropdown = document.getElementById('userDropdown');
            const userProfile = document.querySelector('.user-profile');
            if (dropdown && !userProfile.contains(e.target)) {
                dropdown.classList.remove('show');
            }
        });
    </script>
</body>
</html>
